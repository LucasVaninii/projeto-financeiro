<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <title>Minha Gest√£o Financeira</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />

    <!-- Firebase SDKs (compat) -->
    <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-firestore-compat.js"></script>
</head>

<body>
    <div class="app-shell">
        <!-- TOPO -->
        <header class="topbar">
            <div class="topbar-left">
                <div class="logo-wrap">
                    <span class="logo-icon">üí∞</span>
                    <div class="logo-text">
                        <span class="logo-title">Minha Gest√£o</span>
                        <span class="logo-subtitle">Controle financeiro pessoal</span>
                    </div>
                </div>
                <span id="currentMonthLabel" class="month-label"></span>
            </div>
            <div class="topbar-right">
                <button id="themeToggleBtn" class="btn btn-ghost small" type="button">
                    <span id="themeToggleIcon">üåô</span>
                    <span id="themeToggleText">Modo escuro</span>
                </button>
                <button id="logoutBtn" class="btn btn-ghost" style="display:none;">Sair</button>
            </div>
        </header>

        <!-- CONTE√öDO -->
        <main class="main">
            <!-- LOGIN -->
            <section id="auth-section" class="card auth-card">
                <h2>Entrar na minha gest√£o</h2>
                <p class="muted">Apenas voc√™ ter√° acesso √†s suas informa√ß√µes financeiras.</p>
                <label class="field">
                    <span>E-mail</span>
                    <input id="email" type="email" placeholder="voce@exemplo.com" />
                </label>
                <label class="field">
                    <span>Senha</span>
                    <input id="password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
                </label>
                <div class="auth-actions">
                    <button id="loginBtn" class="btn btn-primary">Entrar</button>
                    <button id="registerBtn" class="btn btn-secondary">Criar conta</button>
                </div>
                <p id="authMessage" class="message"></p>
            </section>

            <!-- APP LOGADO -->
            <section id="app-section" style="display:none;">
                <!-- DASHBOARD -->
                <section class="card">
                    <div class="card-header">
                        <div>
                            <h2>Vis√£o geral</h2>
                            <p class="muted small">
                                Selecione o m√™s (2 anteriores, atual e 2 pr√≥ximos) e o grupo de pagamento. Clique em
                                ‚ÄúAplicar filtros‚Äù.
                            </p>
                        </div>
                        <span class="badge">Resumo</span>
                    </div>

                    <div class="filters">
                        <label>
                            M√™s:
                            <select id="monthFilter"></select>
                        </label>
                        <label>
                            Grupo de pagamento:
                            <select id="paymentGroupFilter">
                                <option value="all">Todos</option>
                                <option value="1">Pagamentos dia 5</option>
                                <option value="2">Pagamentos dia 10</option>
                                <option value="3">Pagamentos dia 20</option>
                            </select>
                        </label>
                        <button id="filterApplyBtn" class="btn btn-primary small-btn" type="button">
                            Aplicar filtros
                        </button>
                    </div>

                    <div class="cards-grid">
                        <div class="mini-card">
                            <span class="mini-label">Receitas no m√™s</span>
                            <span id="card-totalIncomes" class="mini-value">R$ 0,00</span>
                        </div>
                        <div class="mini-card">
                            <span class="mini-label">Despesas (fluxo)</span>
                            <span id="card-totalExpenses" class="mini-value">R$ 0,00</span>
                        </div>
                        <div class="mini-card">
                            <span class="mini-label">Saldo previsto</span>
                            <span id="card-balance" class="mini-value highlight">R$ 0,00</span>
                        </div>
                        <div class="mini-card">
                            <span class="mini-label">Guardado no m√™s</span>
                            <span id="card-savings" class="mini-value">R$ 0,00</span>
                        </div>
                    </div>
                </section>

                <!-- ABAS -->
                <nav class="tabs">
                    <button class="tab active" data-tab="tab-incomes">Receitas</button>
                    <button class="tab" data-tab="tab-expenses">Despesas</button>
                    <button class="tab" data-tab="tab-savings">Valores guardados</button>
                    <button class="tab" data-tab="tab-special">Contas especiais</button>
                </nav>

                <!-- RECEITAS -->
                <section id="tab-incomes" class="tab-content active">
                    <div class="layout-two">
                        <div class="card">
                            <div class="card-header">
                                <h3>Nova receita</h3>
                                <span class="badge soft">Entrada</span>
                            </div>
                            <label class="field">
                                <span>Descri√ß√£o</span>
                                <input id="incomeDescription" placeholder="Sal√°rio, freelancer, etc." />
                            </label>
                            <label class="field">
                                <span>Valor (R$)</span>
                                <input id="incomeAmount" type="number" step="0.01" />
                            </label>
                            <label class="field">
                                <span>Data</span>
                                <input id="incomeDate" type="date" />
                            </label>
                            <label class="field">
                                <span>Grupo de pagamento</span>
                                <select id="incomePaymentGroup">
                                    <option value="1">Pagamentos dia 5</option>
                                    <option value="2">Pagamentos dia 10</option>
                                    <option value="3">Pagamentos dia 20</option>
                                </select>
                            </label>
                            <label class="field">
                                <span>Meses recorrentes (incluindo este)</span>
                                <input id="incomeRecurrentMonths" type="number" min="1" value="1" />
                            </label>
                            <label class="field checkbox">
                                <input id="incomeReceived" type="checkbox" />
                                <span>J√° recebido</span>
                            </label>
                            <button id="saveIncomeBtn" class="btn btn-primary full">Salvar receita</button>
                            <p id="incomeMessage" class="message"></p>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <h3>Receitas do m√™s filtrado</h3>
                            </div>
                            <ul id="incomeList" class="list"></ul>
                        </div>
                    </div>
                </section>

                <!-- DESPESAS -->
                <section id="tab-expenses" class="tab-content">
                    <div class="layout-two">
                        <div class="card">
                            <div class="card-header">
                                <h3>Nova despesa</h3>
                                <span class="badge soft danger">Sa√≠da</span>
                            </div>
                            <label class="field">
                                <span>Descri√ß√£o</span>
                                <input id="expenseDescription" placeholder="Aluguel, internet, etc." />
                            </label>
                            <label class="field">
                                <span>Valor (R$)</span>
                                <input id="expenseAmount" type="number" step="0.01" />
                            </label>
                            <label class="field">
                                <span>Data de vencimento</span>
                                <input id="expenseDueDate" type="date" />
                            </label>
                            <label class="field">
                                <span>Tipo</span>
                                <select id="expenseType">
                                    <option value="fixa">Fixa</option>
                                    <option value="recorrente">Recorrente</option>
                                    <option value="variavel">Vari√°vel</option>
                                </select>
                            </label>
                            <label class="field">
                                <span>Grupo de pagamento</span>
                                <select id="expensePaymentGroup">
                                    <option value="1">Pagamentos dia 5</option>
                                    <option value="2">Pagamentos dia 10</option>
                                    <option value="3">Pagamentos dia 20</option>
                                </select>
                            </label>
                            <label class="field">
                                <span>Meses recorrentes (incluindo este)</span>
                                <input id="expenseRecurrentMonths" type="number" min="1" value="1" />
                            </label>
                            <div class="field-inline">
                                <label class="field checkbox">
                                    <input id="expenseInstallment" type="checkbox" />
                                    <span>Parcelada</span>
                                </label>
                                <input id="expenseInstallmentCurrent" type="number" min="1"
                                    placeholder="Parcela atual" />
                                <input id="expenseInstallmentTotal" type="number" min="1"
                                    placeholder="Total de parcelas" />
                            </div>
                            <label class="field checkbox">
                                <input id="expensePaid" type="checkbox" />
                                <span>J√° pago</span>
                            </label>
                            <p class="muted small">
                                Dica: use <strong>parcelas</strong> ou <strong>meses recorrentes</strong>. Se marcar
                                parcelada, os meses
                                recorrentes ser√£o ignorados.
                            </p>
                            <button id="saveExpenseBtn" class="btn btn-primary full">Salvar despesa</button>
                            <p id="expenseMessage" class="message"></p>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <h3>Despesas do m√™s filtrado (fluxo)</h3>
                                <span class="badge outline">Sem especiais</span>
                            </div>
                            <p class="muted small">Contas especiais aparecem em uma aba separada.</p>
                            <ul id="expenseList" class="list"></ul>
                        </div>
                    </div>
                </section>

                <!-- POUPAN√áA -->
                <section id="tab-savings" class="tab-content">
                    <div class="layout-two">
                        <div class="card">
                            <div class="card-header">
                                <h3>Novo valor guardado</h3>
                                <span class="badge soft">Poupan√ßa</span>
                            </div>
                            <label class="field">
                                <span>Valor (R$)</span>
                                <input id="savingAmount" type="number" step="0.01" />
                            </label>
                            <label class="field">
                                <span>Data</span>
                                <input id="savingDate" type="date" />
                            </label>
                            <label class="field">
                                <span>Destino / objetivo</span>
                                <input id="savingGoal" placeholder="Reserva, viagem, etc." />
                            </label>
                            <label class="field">
                                <span>Observa√ß√µes</span>
                                <textarea id="savingNote" rows="3"></textarea>
                            </label>
                            <button id="saveSavingBtn" class="btn btn-primary full">Registrar valor guardado</button>
                            <p id="savingMessage" class="message"></p>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <h3>Valores guardados do m√™s filtrado</h3>
                            </div>
                            <ul id="savingList" class="list"></ul>
                        </div>
                    </div>
                </section>

                <!-- ESPECIAIS -->
                <section id="tab-special" class="tab-content">
                    <div class="layout-two">
                        <div class="card">
                            <div class="card-header">
                                <h3>Nova conta especial</h3>
                                <span class="badge soft">Anota√ß√£o</span>
                            </div>
                            <p class="muted small">
                                Essas contas n√£o entram no fluxo financeiro, servem apenas como registro (mas podem ser
                                recorrentes ou parceladas).
                            </p>
                            <label class="field">
                                <span>Descri√ß√£o</span>
                                <input id="specialDescription" placeholder="Observa√ß√£o especial" />
                            </label>
                            <label class="field">
                                <span>Valor (R$)</span>
                                <input id="specialAmount" type="number" step="0.01" />
                            </label>
                            <label class="field">
                                <span>Data</span>
                                <input id="specialDate" type="date" />
                            </label>
                            <label class="field">
                                <span>Meses recorrentes (incluindo este)</span>
                                <input id="specialRecurrentMonths" type="number" min="1" value="1" />
                            </label>
                            <div class="field-inline">
                                <label class="field checkbox">
                                    <input id="specialInstallment" type="checkbox" />
                                    <span>Parcelada</span>
                                </label>
                                <input id="specialInstallmentCurrent" type="number" min="1"
                                    placeholder="Parcela atual" />
                                <input id="specialInstallmentTotal" type="number" min="1"
                                    placeholder="Total de parcelas" />
                            </div>
                            <button id="saveSpecialBtn" class="btn btn-primary full">Salvar conta especial</button>
                            <p id="specialMessage" class="message"></p>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <h3>Contas especiais do m√™s filtrado</h3>
                            </div>
                            <ul id="specialList" class="list"></ul>
                        </div>
                    </div>
                </section>
            </section>
        </main>
    </div>

    <script src="app.js"></script>
</body>

</html>